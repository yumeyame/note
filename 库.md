库分为静态库和动态库，其本质是源文件，但是是二进制文件
## 静态库
linux中静态库一lib为前缀，.a为后缀，libxxx.a
windows中静态库一lib为前缀，.lib为后缀，libxxx.lib
![[Pasted image 20250701125038.png]]
## 动态库
是程序运行时加载的库，多个程序可共享一个内存的动态库
其地址是相对的，而静态库的地址是绝对的
linux中静态库一lib为前缀，.so为后缀，libxxx.so
windows中静态库一lib为前缀，.dll为后缀，libxxx.dll

## 工作原理
在编译最后阶段（链接阶段），静态库被打包放到程序中，动态库的名字被程序记录，当运行时加载动态库
### 动态链接器


3.1 静态库

    优点：
        静态库被打包到应用程序中加载速度快
        发布程序无需提供静态库，移植方便

    缺点：
        相同的库文件数据可能在内存中被加载多份, 消耗系统资源，浪费内存
        库文件更新需要重新编译项目文件, 生成新的可执行程序, 浪费时间。
3.2 动态库

    优点：
        可实现不同进程间的资源共享
        动态库升级简单, 只需要替换库文件, 无需重新编译应用程序
        程序猿可以控制何时加载动态库, 不调用库函数动态库不会被加载

    缺点：
        加载速度比静态库慢, 以现在计算机的性能可以忽略
        发布程序需要提供依赖的动态库


作者: 苏丙榅
链接: https://subingwen.cn/linux/library/#3-1-%E9%9D%99%E6%80%81%E5%BA%93
来源: 爱编程的大丙
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。